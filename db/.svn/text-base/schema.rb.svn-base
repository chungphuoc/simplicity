# This file is autogenerated. Instead of editing this file, please use the
# migrations feature of ActiveRecord to incrementally modify your database, and
# then regenerate this schema definition.

ActiveRecord::Schema.define(:version => 78) do

  create_table "advertisements", :force => true do |t|
  end

  create_table "announcements", :force => true do |t|
    t.column "title", :string
    t.column "body", :text
    t.column "published_on", :datetime
    t.column "display_on_site", :boolean
    t.column "link", :string
    t.column "file", :string
    t.column "file_suffix", :string
    t.column "building_id", :integer
  end

  create_table "building_owners", :force => true do |t|
    t.column "username", :string
    t.column "hashed_password", :string
    t.column "salt", :string
    t.column "first_name", :string
    t.column "surname", :string
    t.column "mobile", :string
    t.column "phone", :string
    t.column "email", :string
    t.column "fax", :string
    t.column "address", :text
  end

  create_table "building_units", :force => true do |t|
    t.column "building_id", :integer
    t.column "unit_type_id", :integer
    t.column "area", :integer
    t.column "unit_count", :integer, :default => 1
    t.column "floor", :integer
    t.column "name", :string
    t.column "remarks", :text
  end

  create_table "building_units_unit_contracts", :id => false, :force => true do |t|
    t.column "building_unit_id", :integer
    t.column "unit_contract_id", :integer
  end

  create_table "buildings", :force => true do |t|
    t.column "number", :string
    t.column "street", :string
    t.column "city", :string
    t.column "zip_code", :string, :limit => 5
    t.column "welcome_note", :text
    t.column "directions", :text
    t.column "eng_city", :string
    t.column "eng_street", :string
    t.column "eng_number", :string
    t.column "print_map_extension", :string, :limit => 50
    t.column "map_extension", :string, :limit => 50
    t.column "lowest_floor", :integer
    t.column "highest_floor", :integer
    t.column "mt_company_id", :integer
    t.column "mt_building_manager_id", :integer
    t.column "mt_company_contact_id", :integer
    t.column "disable_checks", :boolean, :default => false
    t.column "type", :string, :default => "Building"
    t.column "building_owner_id", :integer
    t.column "total_area", :integer
    t.column "total_unit_num", :integer
    t.column "forum_url", :string
    t.column "is_user_login_unique", :boolean, :default => false
    t.column "show_whose_car", :boolean, :default => true
    t.column "default_public_unit_type_id", :integer
  end

  create_table "business_buildings_businesses", :force => true do |t|
    t.column "business_building_id", :integer
    t.column "business_id", :integer
  end

  create_table "businesses", :force => true do |t|
    t.column "name", :string
    t.column "eng_name", :string
    t.column "description", :text
    t.column "site", :string
    t.column "phone", :string
    t.column "fax", :string
    t.column "email", :string
    t.column "building_id", :integer
    t.column "type_code", :string
  end

  create_table "cars", :force => true do |t|
    t.column "number", :string
    t.column "description", :text
    t.column "tenant_id", :integer
    t.column "business_id", :integer
  end

  create_table "condo_questions", :force => true do |t|
    t.column "question", :string
    t.column "answer", :text
    t.column "link", :string
    t.column "display_on_site", :boolean
  end

  create_table "contact_people", :force => true do |t|
    t.column "first_name", :string
    t.column "surname", :string
    t.column "company", :string
    t.column "phone", :string
    t.column "fax", :string
    t.column "mobile", :string
    t.column "email", :string
    t.column "site", :string
    t.column "about", :text
    t.column "address", :string
    t.column "cp_category_id", :integer, :default => 0, :null => false
    t.column "position", :string
    t.column "building_id", :integer
  end

  add_index "contact_people", ["cp_category_id"], :name => "fk_contact_people_cp_categories"

  create_table "cp_categories", :force => true do |t|
    t.column "name", :string
    t.column "building_id", :integer
  end

  create_table "flats", :force => true do |t|
    t.column "number", :integer
    t.column "floor", :integer
    t.column "state", :string, :limit => 21
    t.column "area", :integer
    t.column "base_payment", :float, :limit => 10, :default => 0.0
    t.column "num_of_rooms", :float
    t.column "building_id", :integer
  end

  create_table "localized_entries", :id => false, :force => true do |t|
    t.column "entry", :string
    t.column "value", :string
  end

  create_table "maintenance_request_history_items", :force => true do |t|
    t.column "action_type", :string, :limit => 16
    t.column "acting_user_data", :string
    t.column "acting_user_id", :integer
    t.column "acting_user_type", :string
    t.column "maintenance_request_id", :integer
    t.column "remarks", :text
    t.column "new_state_data", :string
    t.column "created_on", :datetime
    t.column "old_state_data", :string
    t.column "company_private", :boolean, :default => false
  end

  create_table "maintenance_requests", :force => true do |t|
    t.column "title", :string
    t.column "body", :text
    t.column "created_on", :datetime
    t.column "updated_on", :datetime
    t.column "urgency", :integer, :default => 2
    t.column "building_id", :integer
    t.column "state", :integer, :default => 0
    t.column "solving_worker_id", :integer
    t.column "remarks", :text
    t.column "reporter_id", :integer
    t.column "reporter_type", :string
    t.column "place_id", :integer
    t.column "place_type", :string
    t.column "business_id", :integer
    t.column "flat_id", :integer
    t.column "accepted", :boolean, :default => false
    t.column "hours_of_fix", :float
    t.column "parts_cost_of_fix", :float
    t.column "fixed_price_of_fix", :float
    t.column "price_per_hour", :float
    t.column "solved_on", :datetime
    t.column "assignee_id", :integer
    t.column "assignee_type", :string
    t.column "quoted_price", :float
    t.column "service_type", :integer, :default => 0
    t.column "place_free_text", :string
    t.column "budget_id", :integer
    t.column "qoute_text", :text
    t.column "mt_company_task_id", :integer
    t.column "mt_company_id", :integer
    t.column "budget_name", :string
  end

  create_table "mt_companies", :force => true do |t|
    t.column "name", :string
    t.column "eng_name", :string
    t.column "address", :text
    t.column "contact_info", :text
    t.column "site", :string
    t.column "phone", :string
    t.column "about", :text
    t.column "image_extension", :string
    t.column "disable_checks", :boolean, :default => false
  end

  create_table "mt_company_tasks", :force => true do |t|
    t.column "from_date", :date
    t.column "until_date", :date
    t.column "status", :integer
    t.column "title", :string
    t.column "description", :text
    t.column "created_on", :datetime
    t.column "completed_on", :datetime
    t.column "building_id", :integer
    t.column "mt_company_id", :integer
    t.column "building_owner_id", :integer
    t.column "assignee_id", :integer
    t.column "assignee_type", :string
    t.column "creator_id", :integer
    t.column "creator_type", :string
    t.column "maintenance_request_id", :integer
  end

  create_table "mt_company_worker_roles", :force => true do |t|
    t.column "name", :string
    t.column "building_manager", :boolean
    t.column "admin", :boolean
    t.column "mt_company_id", :integer
    t.column "professional", :boolean
  end

  create_table "mt_company_workers", :force => true do |t|
    t.column "first_name", :string
    t.column "surname", :string
    t.column "mobile", :string
    t.column "beeper", :string
    t.column "username", :string
    t.column "hashed_password", :string
    t.column "salt", :string
    t.column "mt_company_role_id", :integer
    t.column "mt_company_id", :integer
    t.column "email", :string
    t.column "details", :text
    t.column "sms_urgency", :integer, :default => 5
    t.column "group_id", :integer
    t.column "email_urgency", :integer, :default => 5
  end

  create_table "sessions", :force => true do |t|
    t.column "session_id", :string
    t.column "data", :text
    t.column "updated_at", :datetime
  end

  add_index "sessions", ["session_id"], :name => "sessions_session_id_index"

  create_table "shared_documents", :force => true do |t|
    t.column "title", :string
    t.column "description", :text
    t.column "file_suffix", :string
    t.column "updated_on", :datetime
    t.column "building_id", :integer
  end

  create_table "suggestions", :force => true do |t|
    t.column "title", :string
    t.column "body", :text
    t.column "created_on", :date
    t.column "ctrl", :string
    t.column "actn", :string
  end

  create_table "super_users", :force => true do |t|
    t.column "username", :string
    t.column "hashed_password", :string
    t.column "salt", :string
  end

  create_table "tenant_posts", :force => true do |t|
    t.column "title", :string
    t.column "body", :text
    t.column "published_on", :datetime
    t.column "display_on_site", :boolean
    t.column "link", :string
    t.column "file", :string
    t.column "tenant_id", :string
    t.column "file_suffix", :string
    t.column "building_id", :integer
  end

  create_table "tenants", :force => true do |t|
    t.column "first_name", :string
    t.column "surname", :string
    t.column "phone", :string
    t.column "fax", :string
    t.column "mobile", :string
    t.column "email", :string
    t.column "site", :string
    t.column "about", :text
    t.column "flat_id", :integer
    t.column "is_male", :boolean
    t.column "username", :string
    t.column "hashed_password", :string
    t.column "salt", :string
    t.column "role", :string
    t.column "building_id", :integer
  end

  add_index "tenants", ["flat_id"], :name => "fk_tenants_flats"

  create_table "todolist", :force => true do |t|
    t.column "orgtype", :string, :limit => 50
    t.column "orgcode", :string, :limit => 50
    t.column "view", :string, :limit => 50
    t.column "done", :string, :limit => 50
    t.column "memo", :text
    t.column "taarich", :timestamp, :null => false
    t.column "user_id", :string, :limit => 50
  end

  create_table "unit_contracts", :force => true do |t|
    t.column "business_id", :integer
    t.column "start_date", :date
    t.column "end_date", :date
    t.column "mode", :integer
  end

  create_table "unit_types", :force => true do |t|
    t.column "name", :string
    t.column "building_owner_id", :integer
    t.column "is_public", :boolean, :default => false
  end

  create_table "uploaded_files", :force => true do |t|
    t.column "title", :string
    t.column "name", :string
    t.column "size", :integer
    t.column "upload_date", :datetime
    t.column "mime_type", :string
    t.column "uploader_id", :integer
    t.column "uploader_type", :string
    t.column "part_of_id", :integer
    t.column "part_of_type", :string
  end

  create_table "users", :force => true do |t|
    t.column "username", :string
    t.column "hashed_password", :string
    t.column "salt", :string
    t.column "description", :text
    t.column "user_type", :string
    t.column "first_name", :string
    t.column "surname", :string
    t.column "contact_info", :string
    t.column "building_id", :integer
    t.column "business_id", :integer
    t.column "mobile", :string
    t.column "phone", :string
    t.column "email", :string
    t.column "address", :text
  end

end
